const websiteData = {
            merch: [
                {
                    id: 1,
                    name: "Lucky Crewneck (Hand-drawn by NIKI)",
                    description: "Hand-drawn and designed by Niki of her dog, Lucy.",
                    price: "Rp 580.000",
                    image: "LuckyCrewneck.jpg",
                    badge: "LIMITED",
                    fullDescription: `
                        <p>Step into a world where music meets design with the Lucky Crewneck, a truly one-of-a-kind piece hand-drawn by NIKI herself. Created for fans who carry artistry and passion in their everyday style, this crewneck is more than apparel—it's a statement.</p>
                        
                        <h3>Original Artwork by NIKI</h3>
                        <p>Every line, every sketch on this crewneck comes directly from NIKI's creative process. Designed by the artist, for the fans.</p>
                        
                        <h3>Premium Quality Fabric</h3>
                        <p>Crafted from a mid-weight fleece with a smooth, cozy finish, this crewneck is made for layering or wearing solo. It's soft, comfortable, and durable—designed to stand the test of show days, travel, and everyday wear.</p>
                        
                        <h3>Exclusive Edition</h3>
                        <p>This is a limited drop. Once the stock is gone, it's gone. A true collector's piece for NIKI fans, fashion-lovers and streetwear aficionados alike.</p>
                        
                        <h3>Signature Style</h3>
                        <p>Featuring a bold front graphic that reflects NIKI's unique vision, the crewneck blends casual wear with creative flair. Dress it up, dress it down—turn heads wherever you go.</p>
                        
                        <h3>Universal Appeal</h3>
                        <p>Available in a full range of sizes (S–XXL) so every fan can find their fit. Pair it with jeans, joggers, or layered under a jacket for maximum versatility.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this crewneck means you're part of something bigger than style — you're part of the story. Whether you discovered NIKI through her chart-topping tracks or stumbled across her creative world by chance, this piece connects you to her vision. It's more than merch; it's wearable art, designed by the artist.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>True to size. For a slightly oversized look, consider sizing up.</li>
                            <li>Turn garment inside-out before washing. Cold gentle wash.</li>
                            <li>Do not bleach. Tumble dry low or air dry for best results.</li>
                            <li>When ironing is needed, iron inside-out on low heat, avoiding the printed design.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>Ships internationally. Please check shipping rates for your country at checkout. Because this is a limited edition release, please note that availability may change rapidly and items may sell out.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want an exclusive piece of her creative world</li>
                            <li>Music lovers who appreciate artist-designed wear</li>
                            <li>Streetwear followers searching for unique, limited edition drops</li>
                            <li>Anyone wanting to merge comfort and art in their everyday wardrobe</li>
                        </ul>
                    `
                },
                {
                    id: 2,
                    name: "Nicole Lyric Tee",
                    description: "Official NICOLE tee featuring handwritten lyrics by Niki.",
                    price: "Rp 650.000",
                    image: "NicoleLyricTee.jpg",
                    badge: "NEW",
                    fullDescription: `
                        <p>Step into style with the Nicole Lyric Tee — a piece of wearable music history from NIKI. This tee features handwritten lyrics by NIKI herself. It's not just a t-shirt; it's a connection to the artist's story and your fandom.</p>
                        
                        <h3>Handwritten Lyrics by NIKI</h3>
                        <p>The front print features actual lyric lines penned by NIKI, bringing authenticity and personal touch to the design.</p>
                        
                        <h3>Premium Unisex Fit</h3>
                        <p>Designed to suit all fans, the tee is available in sizes S through XXL.</p>
                        
                        <h3>High-Quality Fabric</h3>
                        <p>Soft yet durable material built to hold up in everyday wear and washing, while maintaining print clarity and shape.</p>
                        
                        <h3>Exclusive, Artist-Driven Design</h3>
                        <p>This collector-worthy item is part of NIKI's official "NICOLE" line, making it ideal for fans who value style and story.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing the Nicole Lyric Tee means more than wearing a band shirt — you're wearing the words, the emotion, and the journey of NIKI. Whether you first heard her on streaming, saw her live, or discovered her as a fan of her story, this tee helps you carry a piece of that connection with you. It's casual streetwear, elevated by meaning.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>True to size. For a relaxed or oversized look, size up.</li>
                            <li>Turn inside-out before washing. Cold wash recommended.</li>
                            <li>Avoid bleach. Tumble dry low or air-dry for best results.</li>
                            <li>Print area: treat gently and avoid high-heat ironing — or iron inside-out if necessary.</li>
                            <li>Refer to size chart before order to pick your best fit (unisex dimensions).</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>Ships internationally from official store. Because this is part of a limited edition collection, availability may change quickly.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want a meaningful piece of her creative world.</li>
                            <li>Music lovers who appreciate artist-designed garments with story.</li>
                            <li>Streetwear enthusiasts looking for quality tees with unique prints.</li>
                            <li>Anyone who wants to merge comfort and identity in their wardrobe.</li>
                        </ul>
                    `
                },
                {
                    id: 3,
                    name: "Niki 2023 Black Tour Hoodie",
                    description: "As seen on 2023 NIKI tour (NIKI wore this)",
                    price: "Rp 485.000",
                    image: "Niki2023BlackTourHoodie.jpg",
                    fullDescription: `
                        <p>Celebrate an unforgettable chapter in NIKI's journey with the NIKI 2023 Black Tour Hoodie — a premium piece of tour memorabilia, built for fans who want more than just merch.</p>
                        
                        <h3>Tour-Exclusive Design</h3>
                        <p>This hoodie commemorates NIKI's 2022-23 "Nicole World Tour" with the official tour dates, artwork and branding from the event. According to sources, it was featured as "Niki 2023 Black Tour Hoodie" in the artist's official store.</p>
                        
                        <h3>Quality Construction</h3>
                        <p>Designed for comfort and wearability, this pull-over hoodie is tailored for daily use while carrying the spirit of the tour.</p>
                        
                        <h3>Collector Appeal</h3>
                        <p>Because it was tied to a specific tour cycle, it holds a special value for fans of NIKI, music-merch collectors, and those who appreciate limited edition items.</p>
                        
                        <h3>Versatile Styling</h3>
                        <p>With a sleek black base and tour graphic accents, this hoodie pairs easily with streetwear looks or can be layered for cooler weather.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this hoodie means you're part of the story — not just a concert goer, but someone who carries the tour's legacy. Whether you were at one of the shows, followed the tour from afar, or just love NIKI's music and aesthetic, this sweatshirt is a standout piece that bridges fandom and fashion.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>Fit: Typically true to size — if you prefer an oversized or relaxed look, consider sizing up.</li>
                            <li>Wash: Turn inside out. Cold wash recommended.</li>
                            <li>Dry: Hang dry or tumble dry on low to preserve print and fabric integrity.</li>
                            <li>Avoid ironing directly on printed/design areas.</li>
                            <li>Because this is tour-merch, check if the brand/dimensions vary across batches.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>This item was part of a limited tour drop, and availability may be very limited now. If you see it in stock, act quickly. Shipment internationally is often possible; check shipping rates, duty/taxes for Indonesia if purchasing from overseas.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want a tangible piece of her touring history.</li>
                            <li>Music merch collectors who prioritise limited-edition items.</li>
                            <li>Streetwear enthusiasts looking for a hoodie that blends music culture and fashion.</li>
                            <li>Anyone seeking a high-quality black hoodie with meaningful design rather than a purely generic one.</li>
                        </ul>
                    `
                },
                {
                    id: 4,
                    name: "Niki Ringer Tee",
                    description: "Unisex Ringer Tee with Niki's handwritten signature",
                    price: "Rp 420.000",
                    image: "NikiRingerTee.jpg",
                    badge: "FAVORITE", // REVISI 4: Ubah badge dari "SOLD OUT" menjadi "FAVORITE"
                    fullDescription: `
                        <p>This isn't just another tee. With the "Ringer Tee (Handwritten Signature)", NIKI brings her personal touch directly to you. Featuring a bold contrast-ring design and her own handwritten signature integrated into the graphic, this tee stands out as both a style piece and a collector's item.</p>
                        
                        <h3>Artist's Handwritten Signature</h3>
                        <p>The print features NIKI's actual handwritten signature, lending authenticity and connection between artist and fan. The product shows up in her official store as "Niki Ringer Tee (handwritten signature)".</p>
                        
                        <h3>Vintage-inspired Ringer Design</h3>
                        <p>With contrasting collar and sleeve trim, this tee taps into retro looks while staying modern — perfect for layering or as a solo statement piece.</p>
                        
                        <h3>Premium Fabric & Fit</h3>
                        <p>Crafted from quality cotton for breathable comfort and durability. Cut in a unisex style so everyone can wear it with ease.</p>
                        
                        <h3>Limited Edition Appeal</h3>
                        <p>Since this piece appears in the collection and is marked "sold out" in the official store, it has collectible value and rarity.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this tee means you're holding a symbol of your connection to NIKI — her style, her signature, her story. Whether you're attending her concert, diving into her music, or just living your daily life, this tee helps you carry that fandom with style. It's more than merch—it's a wearable tribute.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>Style tip: true to size for a standard fit, size up for an intentional relaxed/oversized look.</li>
                            <li>Wash inside-out in cold water for best print longevity.</li>
                            <li>Avoid bleach; tumble dry low or hang-dry.</li>
                            <li>If ironing is necessary, do so inside-out and avoid direct heat on the printed signature area.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>This item was part of a special collection and is currently marked as sold out in the official store. If you find it in stock, we suggest acting quickly. International shipping may be available — please check shipping fees and any import duties if ordering from abroad.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want a meaningful, stylish piece of her creative world.</li>
                            <li>Collectors of limited-edition music-artist merch.</li>
                            <li>Streetwear enthusiasts seeking a unique tee with personality.</li>
                            <li>Anyone wanting to wear something that's both comfortable and full of story.</li>
                        </ul>
                    `
                },
                {
                    id: 5,
                    name: "Niki 2023 Music Note Hoodie",
                    description: "As seen on 2023 NIKI tour",
                    price: "Rp 485.000",
                    image: "Niki2023MusicNoteHoodie.jpg",
                    fullDescription: `
                        <p>Dive into the rhythm of style with the 2023 Music Note Hoodie from NIKI. Crafted for fans who live and breathe music, this hoodie blends bold design with comfort — capturing a moment in time from NIKI's 2023 era. According to the official store, it was released as part of the "Nicole" collection and is currently marked sold out.</p>
                        
                        <h3>Iconic Graphic Design</h3>
                        <p>Features a prominent music note motif that reflects NIKI's musical identity and creative energy.</p>
                        
                        <h3>Premium Build</h3>
                        <p>Made for everyday wear yet built with the collector in mind—ideal for layering or standing alone as a statement piece.</p>
                        
                        <h3>Part of a Limited Edition Drop</h3>
                        <p>Appears in the official store listing under "Niki 2023 Music Note Hoodie – Sold out".</p>
                        
                        <h3>Versatile Style</h3>
                        <p>The black base and clean graphic make it easy to pair with streetwear favorites—jeans, cargo pants, sneakers or boots.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this hoodie isn't just about showing you're a fan—it's about representing the sound, the mindset, the moment. Whether you were at a show, streaming from afar, or just appreciating NIKI's craft, this piece allows you to carry that energy with you. More than merch—this is wearable culture.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>Fit: True to size for a regular silhouette. Size up if you prefer an oversized look.</li>
                            <li>Wash inside-out, cold wash recommended to protect the graphic.</li>
                            <li>Tumble dry low or air dry to maintain fabric and print quality.</li>
                            <li>If ironing is needed, iron inside-out and avoid direct heat on the printed design.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>This hoodie was part of a limited release and is currently marked as sold out in the official NIKI store. If you come across it, act quickly. Check shipping terms, especially for delivery to Indonesia.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI wanting a meaningful, stylish piece from her 2023 era.</li>
                            <li>Music enthusiasts looking to wear something that stands for more than just fashion.</li>
                            <li>Streetwear lovers seeking hoodies with unique graphic identity and limited-edition appeal.</li>
                            <li>Anyone wanting comfort, style, and a connection to an artist they admire.</li>
                        </ul>
                    `
                },
                {
                    id: 6,
                    name: "Niki Maui Tee",
                    description: "Official Nicole Merchandise",
                    price: "Rp 405.000",
                    image: "NikiMauiTee.jpg",
                    fullDescription: `
                        <p>Show your support and wear the cause with the NIKI Maui Charity Tee — a meaningful piece by NIKI created to raise awareness and funds for the recovery in Maui. This tee is not only stylish but purposeful.</p>
                        
                        <h3>Charity Drop</h3>
                        <p>100% of the proceeds from this tee are dedicated to the Maui Strong Fund, helping the community rebuild and recover after the disasters in Maui.</p>
                        
                        <h3>Artist Involvement</h3>
                        <p>Designed under NIKI's initiative, the tee ties her artistry and activism together — perfect for fans who value both style and social impact.</p>
                        
                        <h3>Quality Construction</h3>
                        <p>Crafted with a comfortable fit, standard tee styling, and print quality suitable for regular wear.</p>
                        
                        <h3>Limited Availability</h3>
                        <p>Because this tee supports a special campaign, availability may be limited—grab it while stocks last.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this tee means you're standing with a cause. It bridges music fandom and real-world impact. Whether you're a fan of NIKI's music or simply someone who wants to show support visually, this tee gives you a statement piece that goes beyond wardrobe.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>Fit: True to size for a standard look; size up for a looser silhouette.</li>
                            <li>Wash: Turn inside-out; cold machine wash recommended.</li>
                            <li>Avoid bleach; tumble dry low or hang-dry for best longevity.</li>
                            <li>If ironing is needed, do so inside-out and avoid direct heat on printed areas.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>Ships internationally (check shipping & import duties for Indonesia). As a special-edition charity item, stock may run out quickly.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want to support a meaningful cause.</li>
                            <li>Music lovers who like their merch to carry social value.</li>
                            <li>Streetwear enthusiasts looking for a unique tee with a story.</li>
                            <li>Anyone who wants to wear something that matters—not just looks good.</li>
                        </ul>
                    `
                },
                {
                    id: 7,
                    name: "Sand Nicole Long Sleeve",
                    description: "Official 2022 Nicole Long Sleeve.",
                    price: "Rp 750.000",
                    image: "SandNicoleLongSleeve.jpg",
                    fullDescription: `
                        <p>Add a versatile layer to your wardrobe with the Sand Nicole Long Sleeve — part of NIKI's official "Nicole" drop. With its understated sand/beige tone and signature design, this long-sleeve is ideal for fans, layering, or everyday style that carries meaning.</p>
                        
                        <h3>Artist-Designed Graphic</h3>
                        <p>This piece is described on the official store as "Official 2022 Nicole Long Sleeve. Design handwritten by Niki."</p>
                        
                        <h3>Muted Sand Colourway</h3>
                        <p>The sand (beige/off-white) base makes it easy to style with other items — clean, minimal, and still meaningful.</p>
                        
                        <h3>Quality Fabric & Fit</h3>
                        <p>Built as a unisex long‐sleeve tee, offering comfort and versatility for cooler weather or indoor wear.</p>
                        
                        <h3>Collector Appeal & Limited Edition</h3>
                        <p>The listing shows that sizes (S–XXL) are already marked "Sold out" on the official store.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>Wearing this long-sleeve means more than just grabbing a layer — you're wearing a piece of NIKI's story. Whether you're a dedicated fan, a collector of music artist merch, or simply looking for a unique neutral top, this piece bridges art, music, and fashion. It's subtle enough for everyday wear, yet carries exclusive meaning.</p>
                    `,
                    features: `
                        <h3>Care & Fit Info</h3>
                        <ul>
                            <li>Fit: True to size. If you prefer a more relaxed or oversized look, consider sizing up.</li>
                            <li>Wash: Turn inside-out. Cold wash recommended.</li>
                            <li>Dry: Hang-dry or tumble-dry low to maintain fabric quality and printed design.</li>
                            <li>Ironing: If necessary, iron inside-out and avoid direct heat on the graphic.</li>
                            <li>Styling tip: Pair with dark jeans, layered under a jacket, or with lighter trousers for a minimal streetwear look.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>This item was part of a limited edition drop and currently appears sold out in the official online store. If you find it in stock (restock or secondary market), act fast. Shipping internationally may be available — check shipping rates and import duties if ordering to Indonesia.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want a piece from her "Nicole" era.</li>
                            <li>Collectors of limited-edition artist merchandise.</li>
                            <li>Streetwear enthusiasts looking for a neutral-toned long-sleeve with subtle graphic appeal.</li>
                            <li>Anyone who wants comfortable layering wear that still carries story and style.</li>
                        </ul>
                    `
                },
                {
                    id: 8,
                    name: "MOONCHILD Vinyl",
                    description: "OFFICIAL MOONCHILD VINYL",
                    price: "Rp 380.000",
                    image: "MOONCHILDVinyl.jpg",
                    badge: "LIMITED TO 4 PER ORDER",
                    fullDescription: `
                        <p>Own a piece of music history with this vinyl edition of NIKI's debut studio album MOONCHILD, pressed as a beautiful collector's item. More than just an album—it's a physical statement of passion, artistry, and sound. According to the official store, the vinyl is marked "Sold Out" and was offered at US $22.48.</p>
                        
                        <h3>Album Significance</h3>
                        <p>MOONCHILD was released in 2020 and stands as NIKI's debut studio album, created over two years and divided into three lunar-phase concepts of self-exploration.</p>
                        
                        <h3>Collector's Edition Details</h3>
                        <p>This pressing is limited, for example the "Silver Opaque" LP version is limited to 1,000 copies, in a direct-to-board single-sleeve jacket with foil-stamped, numbered back cover.</p>
                        
                        <h3>Tracklist Highlights</h3>
                        <p>The vinyl includes standout tracks such as "Switchblade," "Selene," "Lose," and "Plot Twist."</p>
                        
                        <h3>Design & Aesthetics</h3>
                        <p>The silver vinyl variant adds a premium visual element, ideal for display or adding to a serious vinyl collection.</p>
                        
                        <h3>Why You'll Love It</h3>
                        <p>For fans of NIKI: It's a tangible connection to her musical journey and the era when she introduced herself in full.</p>
                        <p>For vinyl collectors: A limited-run and numbered edition makes this piece rare and desirable.</p>
                        <p>For music lovers: The album covers themes of growth, self-discovery and artistry—making the record both meaningful and listenable.</p>
                        <p>For decor enthusiasts: The silver-vinyl aesthetic adds a stylish edge when stored or displayed.</p>
                    `,
                    features: `
                        <h3>Care & Use Info</h3>
                        <ul>
                            <li>Handle the vinyl by its edges and avoid touching the surface to minimise scratches.</li>
                            <li>Store vertically in a cool, dry place, away from direct sunlight.</li>
                            <li>Use a high-quality turntable, set to the correct speed (33 ⅓ RPM) and clean the stylus before playing to preserve sound quality.</li>
                            <li>Keep the original sleeve and outer packaging intact—since collector value often depends on condition.</li>
                        </ul>
                        
                        <h3>Shipping & Availability</h3>
                        <p>Since this vinyl is marked as "Sold Out" on NIKI's official merch store, availability is extremely limited and secondary-market pricing may apply. International shipping is likely; if ordering to Indonesia, remember to factor in customs/import duties.</p>
                        
                        <h3>Perfect For</h3>
                        <ul>
                            <li>Fans of NIKI who want an exclusive piece from her debut era.</li>
                            <li>Vinyl aficionados seeking limited, numbered pressings.</li>
                            <li>Anyone who values artistry and meaningful music packaged in a premium format.</li>
                            <li>Collectors of modern pop/R&B albums on vinyl looking for unique editions.</li>
                        </ul>
                    `
                }
            ],
            songs: [
                {
                    id: 1,
                    title: "Backburner",
                    album: "MOONCHILD",
                    duration: "3:35",
                    file: "Backburner.mp3",
                    cover: "Backburner.png",
                    description: "Nostalgic, sunlit alt-R&B single that reached wide audiences via soundtrack placement."
                },
                {
                    id: 2,
                    title: "La La Lost You",
                    album: "Nicole",
                    duration: "3:45",
                    file: "LaLaLostYou.mp3",
                    cover: "LaLaLostYou.png",
                    description: "An intimate ballad that foregrounds vocal vulnerability and sparse arrangement."
                },
                {
                    id: 3,
                    title: "High School in Jakarta",
                    album: "Nicole",
                    duration: "3:25",
                    file: "HighSchoolInJakarta.mp3",
                    cover: "HighSchoolInJakarta.png",
                    description: "A narrative track evoking place, formative memory, and cross-cultural identity."
                },
                {
                    id: 4,
                    title: "Too Much Of A Good Thing",
                    album: "Buzz",
                    duration: "3:25",
                    file: "TooMuchOfAGoodThing.mp3",
                    cover: "TooMuchOfAGoodThing.png",
                    description: "Lead single tone-setting for the Buzz era; propulsive and reflective."
                },
                {
                    id: 5,
                    title: "Oceans & Engines",
                    album: "Nicole",
                    duration: "4:15",
                    file: "OceansEngines.mp3",
                    cover: "OceansEngines.png",
                    description: "Atmospheric arrangement with reflective, emotionally resonant lyrics."
                },
                {
                    id: 6,
                    title: "I Like U",
                    album: "Nicole",
                    duration: "4:25",
                    file: "ILikeU.mp3",
                    cover: "ILikeU.png",
                    description: "Upbeat pop track with catchy melodies and romantic lyrics."
                },
                {
                    id: 7,
                    title: "The Apartment We Won't Share",
                    album: "Buzz",
                    duration: "2:32",
                    file: "TheApartmentWeWontShare.mp3",
                    cover: "TheApartmentWeWontShare.png",
                    description: "Emotional ballad about lost love and memories."
                },
                {
                    id: 8,
                    title: "Before",
                    album: "MOONCHILD",
                    duration: "4:54",
                    file: "Before.mp3",
                    cover: "Before.jpg",
                    description: "Reflective track about past relationships and growth."
                },
                {
                    id: 9,
                    title: "Tsunami",
                    album: "Nicole",
                    duration: "3:52",
                    file: "Tsunami.mp3",
                    cover: "Tsunami.png",
                    description: "Powerful anthem with sweeping production and emotional vocals."
                },
                {
                    id: 10,
                    title: "Lose",
                    album: "Buzz",
                    duration: "4:31",
                    file: "Lose.mp3",
                    cover: "Lose.png",
                    description: "Heartfelt song about vulnerability and emotional risk."
                },
                {
                    id: 11,
                    title: "Take A Chance With Me",
                    album: "Buzz",
                    duration: "5:05",
                    file: "TakeAChanceWithMe.mp3",
                    cover: "TakeAChanceWithMe.png",
                    description: "Romantic ballad with soaring vocals and intimate lyrics."
                },
                {
                    id: 12,
                    title: "Lowkey",
                    album: "MOONCHILD",
                    duration: "2:50",
                    file: "Lowkey.mp3",
                    cover: "Lowkey.jpg",
                    description: "Chill R&B track with smooth vocals and laid-back production."
                }
            ],
            concerts: [
                {
                    id: 1,
                    title: "Buzz World Tour — Jakarta",
                    venue: "Istora Senayan",
                    date: "November 14, 2025",
                    note: "Information only — purchase tickets from official vendors",
                    image: "KonserNIKIJakarta.jpg"
                },
                {
                    id: 2,
                    title: "Buzz World Tour — London",
                    venue: "O2 Forum",
                    date: "December 2, 2025",
                    note: "Information only — check official channels for ticket availability",
                    image: "KonserNIKILondon.jpg"
                },
                {
                    id: 3,
                    title: "Buzz World Tour — Los Angeles",
                    venue: "The Wiltern",
                    date: "January 20, 2026",
                    note: "Information only — dates subject to change",
                    image: "KonserNIKILosAngeles.jpg"
                }
            ]
        };

        // Data membership
        const membershipPlans = {
            'free': {
                name: 'NIKI Basic',
                price: 0,
                period: 'month',
                features: [
                    'Access to limited content',
                    'Basic newsletter',
                    'Standard pre-sale access'
                ]
            },
            'premium-monthly': {
                name: 'NIKI Premium',
                price: 50000,
                period: 'month',
                features: [
                    'Early access to new music',
                    'Exclusive merchandise pre-orders',
                    'Priority concert ticket access',
                    '10% discount on all merchandise',
                    'Members-only content',
                    'Digital album downloads'
                ]
            },
            'premium-yearly': {
                name: 'NIKI Premium',
                price: 500000,
                period: 'year',
                features: [
                    'All monthly benefits',
                    '2 months free compared to monthly',
                    'Exclusive annual member gift',
                    'VIP concert experience entry',
                    'Personalized video message entry'
                ]
            }
        };

        // Global variables
        let currentSongIndex = 0;
        let isPlaying = false;
        let cart = [];
        let currentUser = null;
        let currentOrder = null;
        
        // Initialize the website when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize header scroll effect
            initHeaderScroll();
            
            // Populate merch section
            populateMerch();
            
            // Populate songs section
            populateSongs();
            
            // Populate Spotify-style playlist
            populateSpotifyPlaylist();
            
            // Populate concerts section
            populateConcerts();
            
            // Initialize cart functionality
            initCart();
            
            // Initialize audio player
            initAudioPlayer();
            
            // Initialize modals
            initModals();
            
            // Initialize mobile menu
            initMobileMenu();
            
            // Initialize queue modal
            initQueueModal();
            
            // Initialize product detail modal
            initProductModal();
            
            // Initialize checkout functionality
            initCheckout();
            
            // Initialize payment functionality
            initPayment();
            
            // Initialize account functionality
            initAccount();
            
            // Add event listener for contact form
            document.getElementById('contact-form').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Thank you for your message! The NIKI team will get back to you soon.');
                this.reset();
            });

            // Initialize user authentication
            initAuth();
            
            // Initialize bio tabs
            initBioTabs();
            
            // Initialize upload form
            initUploadForm();
            
            // REVISI 4: Initialize login required message
            initLoginRequiredMessage();
            
            // REVISI 3: Initialize search functionality
            initSearch();
            
            // Initialize membership functionality
            initMembership();
        });

        // REVISI 3: Initialize search functionality
        function initSearch() {
            const searchInput = document.querySelector('.search-input');
            const searchResults = document.querySelector('.search-results');
            
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase().trim();
                
                if (searchTerm.length < 2) {
                    searchResults.style.display = 'none';
                    return;
                }
                
                // Search through all content
                const results = searchContent(searchTerm);
                displaySearchResults(results, searchTerm);
            });
            
            // Hide search results when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-container')) {
                    searchResults.style.display = 'none';
                }
            });
        }
        
        // REVISI 3: Search through all content
        function searchContent(searchTerm) {
            const results = [];
            
            // Search in merch
            websiteData.merch.forEach(item => {
                if (item.name.toLowerCase().includes(searchTerm) || 
                    item.description.toLowerCase().includes(searchTerm)) {
                    results.push({
                        type: 'Merch',
                        title: item.name,
                        description: item.description,
                        link: '#merch',
                        data: item
                    });
                }
            });
            
            // Search in songs
            websiteData.songs.forEach(song => {
                if (song.title.toLowerCase().includes(searchTerm) || 
                    song.album.toLowerCase().includes(searchTerm) ||
                    song.description.toLowerCase().includes(searchTerm)) {
                    results.push({
                        type: 'Song',
                        title: song.title,
                        description: `${song.album} • ${song.description}`,
                        link: '#songs',
                        data: song
                    });
                }
            });
            
            // Search in concerts
            websiteData.concerts.forEach(concert => {
                if (concert.title.toLowerCase().includes(searchTerm) || 
                    concert.venue.toLowerCase().includes(searchTerm)) {
                    results.push({
                        type: 'Concert',
                        title: concert.title,
                        description: `${concert.venue} • ${concert.date}`,
                        link: '#tour',
                        data: concert
                    });
                }
            });
            
            return results;
        }
        
        // REVISI 3: Display search results
        function displaySearchResults(results, searchTerm) {
            const searchResults = document.querySelector('.search-results');
            
            if (results.length === 0) {
                searchResults.innerHTML = '<div class="search-result-item">No results found</div>';
                searchResults.style.display = 'block';
                return;
            }
            
            searchResults.innerHTML = '';
            
            results.forEach(result => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                
                // Highlight search term in title and description
                const highlightedTitle = highlightText(result.title, searchTerm);
                const highlightedDescription = highlightText(result.description, searchTerm);
                
                resultItem.innerHTML = `
                    <div><strong>${result.type}: ${highlightedTitle}</strong></div>
                    <div style="font-size: 12px; color: #666;">${highlightedDescription}</div>
                `;
                
                resultItem.addEventListener('click', function() {
                    // Navigate to the section
                    document.querySelector(result.link).scrollIntoView({ behavior: 'smooth' });
                    
                    // If it's a song, play it
                    if (result.type === 'Song') {
                        const songIndex = websiteData.songs.findIndex(song => song.id === result.data.id);
                        if (songIndex !== -1) {
                            loadSong(songIndex);
                        }
                    }
                    
                    // Close search results
                    searchResults.style.display = 'none';
                    document.querySelector('.search-input').value = '';
                });
                
                searchResults.appendChild(resultItem);
            });
            
            searchResults.style.display = 'block';
        }
        
        // REVISI 3: Highlight search term in text
        function highlightText(text, searchTerm) {
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        // Initialize bio tabs
        function initBioTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');
            
            // Check for reduced motion preference
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Update active tab button
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update active tab panel
                    tabPanels.forEach(panel => {
                        panel.classList.remove('active');
                        if (panel.id === `${tabId}-panel`) {
                            // If reduced motion is preferred, show immediately without animation
                            if (prefersReducedMotion) {
                                panel.classList.add('active');
                            } else {
                                // Otherwise, use animation
                                setTimeout(() => {
                                    panel.classList.add('active');
                                }, 50);
                            }
                        }
                    });
                    
                    // Update URL hash for deep linking
                    window.location.hash = tabId;
                });
                
                // Add keyboard navigation
                button.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        this.click();
                    } else if (e.key === 'ArrowRight') {
                        e.preventDefault();
                        const nextTab = this.nextElementSibling || tabButtons[0];
                        nextTab.click();
                        nextTab.focus();
                    } else if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        const prevTab = this.previousElementSibling || tabButtons[tabButtons.length - 1];
                        prevTab.click();
                        prevTab.focus();
                    }
                });
            });
            
            // Handle hash changes for deep linking
            window.addEventListener('hashchange', function() {
                const hash = window.location.hash.substring(1);
                if (hash && ['profile', 'career-journey', 'achievements'].includes(hash)) {
                    const tabButton = document.querySelector(`.tab-button[data-tab="${hash}"]`);
                    if (tabButton) {
                        tabButton.click();
                    }
                }
            });
            
            // Check initial hash
            if (window.location.hash) {
                const hash = window.location.hash.substring(1);
                if (hash && ['profile', 'career-journey', 'achievements'].includes(hash)) {
                    const tabButton = document.querySelector(`.tab-button[data-tab="${hash}"]`);
                    if (tabButton) {
                        tabButton.click();
                    }
                }
            }
        }

        // REVISI 4: Initialize login required message
        function initLoginRequiredMessage() {
            const loginRequiredMessage = document.getElementById('login-required-message');
            const loginFromCheckout = document.getElementById('login-from-checkout');
            
            loginFromCheckout.addEventListener('click', function() {
                loginRequiredMessage.classList.remove('active');
                document.getElementById('login-modal').classList.add('active');
            });
        }

        // Initialize authentication system
        function initAuth() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserDisplay();
            }

            // Event listener for user icon
            document.getElementById('user-icon').addEventListener('click', function() {
                if (currentUser) {
                    // Show user dropdown if logged in
                    document.getElementById('user-dropdown').classList.toggle('active');
                    document.getElementById('user-name-display').textContent = currentUser.name;
                } else {
                    // Show login modal if not logged in
                    document.getElementById('login-modal').classList.add('active');
                }
            });

            // Event listener for account button
            document.getElementById('account-btn').addEventListener('click', function() {
                document.getElementById('account-modal').classList.add('active');
                document.getElementById('user-dropdown').classList.remove('active');
            });

            // Event listener for transaction history button
            document.getElementById('transaction-history-btn').addEventListener('click', function() {
                document.getElementById('account-modal').classList.add('active');
                document.getElementById('user-dropdown').classList.remove('active');
                // Switch to transactions tab
                document.querySelectorAll('.account-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector('.account-tab[data-tab="transactions"]').classList.add('active');
                
                document.querySelectorAll('.account-tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById('transactions-tab').classList.add('active');
            });

            // Event listener for logout
            document.getElementById('logout-btn').addEventListener('click', function() {
                logout();
            });

            // Event listener for login form
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                login();
            });

            // Event listener for register form
            document.getElementById('register-form').addEventListener('submit', function(e) {
                e.preventDefault();
                register();
            });

            // Event listener for forgot password form
            document.getElementById('forgot-password-form').addEventListener('submit', function(e) {
                e.preventDefault();
                forgotPassword();
            });
        }

        // Login function
        function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const rememberMe = document.getElementById('remember-me').checked;

            // Simple validation
            if (!email || !password) {
                showMessage('login-general-error', 'Please fill in all fields');
                return;
            }

            // Get users from localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Find user
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                // Login successful
                currentUser = user;
                
                // Save to localStorage if remember me is checked
                if (rememberMe) {
                    localStorage.setItem('currentUser', JSON.stringify(user));
                }
                
                // Update UI
                updateUserDisplay();
                
                // Show success message
                showMessage('login-success-message', 'Login successful!');
                
                // Close modal after delay
                setTimeout(() => {
                    document.getElementById('login-modal').classList.remove('active');
                    document.getElementById('login-form').reset();
                    hideMessage('login-success-message');
                }, 1500);
            } else {
                // Login failed
                showMessage('login-general-error', 'Invalid email or password');
            }
        }

        // Register function
        function register() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;

            // REVISI 5: Validasi email
            if (!email.includes('@')) {
                showMessage('register-email-error', 'Please enter a valid email address');
                return;
            }

            // Validation
            if (!name || !email || !password || !confirm) {
                showMessage('register-general-error', 'Please fill in all fields');
                return;
            }

            if (password !== confirm) {
                showMessage('register-confirm-error', 'Passwords do not match');
                return;
            }

            if (password.length < 6) {
                showMessage('register-password-error', 'Password must be at least 6 characters');
                return;
            }

            // Get users from localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showMessage('register-email-error', 'Email already registered');
                return;
            }

            // Create new user
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                password: password
            };

            // Save user
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));

            // Auto login
            currentUser = newUser;
            updateUserDisplay();

            // Show success message
            showMessage('register-success-message', 'Registration successful!');

            // Close modal after delay
            setTimeout(() => {
                document.getElementById('register-modal').classList.remove('active');
                document.getElementById('register-form').reset();
                hideMessage('register-success-message');
            }, 1500);
        }

        // Forgot password function
        function forgotPassword() {
            const email = document.getElementById('forgot-password-email').value;

            if (!email) {
                showMessage('forgot-password-email-error', 'Please enter your email');
                return;
            }

            // Get users from localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Check if email exists
            if (users.find(u => u.email === email)) {
                // In a real app, you would send an email here
                showMessage('forgot-password-success-message', 'Password reset link has been sent to your email');
                
                // Close modal after delay
                setTimeout(() => {
                    document.getElementById('forgot-password-modal').classList.remove('active');
                    document.getElementById('forgot-password-form').reset();
                    hideMessage('forgot-password-success-message');
                }, 2000);
            } else {
                showMessage('forgot-password-email-error', 'Email not found');
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserDisplay();
            document.getElementById('user-dropdown').classList.remove('active');
            showNotification('You have been logged out successfully.');
        }

        // Update user display
        function updateUserDisplay() {
            const userIcon = document.getElementById('user-icon');
            if (currentUser) {
                userIcon.className = 'fas fa-user-check';
                userIcon.style.color = 'var(--maroon)';
            } else {
                userIcon.className = 'fas fa-user';
                userIcon.style.color = '';
            }
        }

        // Show message function
        function showMessage(elementId, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
        }

        // Hide message function
        function hideMessage(elementId) {
            const element = document.getElementById(elementId);
            element.style.display = 'none';
        }

        // Header scroll effect
        function initHeaderScroll() {
            const header = document.getElementById('header');
            
            window.addEventListener('scroll', function() {
                if (window.scrollY > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Populate merch section
        function populateMerch() {
            const merchContainer = document.querySelector('.merch-grid');
            
            websiteData.merch.forEach(item => {
                const merchCard = document.createElement('div');
                merchCard.className = 'merch-card';
                
                let badgeHTML = '';
                if (item.badge) {
                    badgeHTML = `<div class="merch-badge">${item.badge}</div>`;
                }
                
                merchCard.innerHTML = `
                    ${badgeHTML}
                    <div class="merch-img">
                        <img src="${item.image}" alt="${item.name}" onerror="this.innerHTML='[${item.name} Image]'">
                    </div>
                    <div class="merch-content">
                        <h3>${item.name}</h3>
                        <p class="merch-description">${item.description}</p>
                        <div class="merch-price">${item.price}</div>
                        <div class="merch-actions">
                            <button class="btn-outline view-details" data-id="${item.id}">View Details</button>
                            <div class="quick-add" data-id="${item.id}">
                                <i class="fas fa-plus"></i>
                            </div>
                        </div>
                    </div>
                `;
                
                merchContainer.appendChild(merchCard);
            });
        }

        // Initialize product detail modal
        function initProductModal() {
            const productModal = document.getElementById('product-modal');
            const closeProduct = document.getElementById('close-product');
            const productAddToCart = document.getElementById('product-add-to-cart');
            const productBuyNow = document.getElementById('product-buy-now');
            
            let currentProductId = null;
            
            // Close product modal
            closeProduct.addEventListener('click', function() {
                productModal.classList.remove('active');
            });
            
            // Open product modal when view details is clicked
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('view-details') || e.target.closest('.view-details')) {
                    const button = e.target.classList.contains('view-details') ? e.target : e.target.closest('.view-details');
                    const productId = button.getAttribute('data-id');
                    openProductModal(productId);
                }
            });
            
            // Add to cart from product modal
            productAddToCart.addEventListener('click', function() {
                if (currentProductId) {
                    const item = websiteData.merch.find(merch => merch.id == currentProductId);
                    
                    // Check if item is already in cart
                    const existingItem = cart.find(cartItem => cartItem.id == currentProductId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            quantity: 1
                        });
                    }
                    
                    updateCartCount();
                    updateCartDisplay();
                    
                    // Show notification
                    showNotification(`${item.name} added to cart`);
                    
                    // Close modal
                    productModal.classList.remove('active');
                }
            });
            
            // Buy now from product modal
            productBuyNow.addEventListener('click', function() {
                if (currentProductId) {
                    const item = websiteData.merch.find(merch => merch.id == currentProductId);
                    
                    // Check if item is already in cart
                    const existingItem = cart.find(cartItem => cartItem.id == currentProductId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            quantity: 1
                        });
                    }
                    
                    updateCartCount();
                    updateCartDisplay();
                    
                    // Close modal and open cart
                    productModal.classList.remove('active');
                    document.getElementById('cart-drawer').classList.add('active');
                }
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === productModal) {
                    productModal.classList.remove('active');
                }
            });
            
            // Function to open product modal
            function openProductModal(productId) {
                const product = websiteData.merch.find(item => item.id == productId);
                if (!product) return;
                
                currentProductId = productId;
                
                // Update modal content
                document.getElementById('product-modal-name').textContent = product.name;
                document.getElementById('product-modal-price').textContent = product.price;
                document.getElementById('product-modal-image').src = product.image;
                document.getElementById('product-modal-image').alt = product.name;
                document.getElementById('product-modal-description').innerHTML = product.fullDescription || product.description;
                document.getElementById('product-modal-features').innerHTML = product.features || '';
                
                // Show modal
                productModal.classList.add('active');
            }
        }

        // Populate songs section
        function populateSongs() {
            const songsContainer = document.querySelector('.songs-carousel');
            
            websiteData.songs.forEach(song => {
                const songCard = document.createElement('div');
                songCard.className = 'song-card';
                songCard.innerHTML = `
                    <div class="song-img">
                        <img src="${song.cover}" alt="${song.title}" onerror="this.style.display='none'">
                        <div class="song-play" data-id="${song.id}">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="song-content">
                        <div class="song-title">${song.title}</div>
                        <div class="song-album">${song.album}</div>
                    </div>
                `;
                
                songsContainer.appendChild(songCard);
            });
        }

        // Populate Spotify-style playlist
        function populateSpotifyPlaylist() {
            const playlistContainer = document.getElementById('playlist-items');
            
            websiteData.songs.forEach((song, index) => {
                const playlistItem = document.createElement('div');
                playlistItem.className = 'playlist-item';
                playlistItem.setAttribute('data-id', song.id);
                
                playlistItem.innerHTML = `
                    <div class="playlist-number">${index + 1}</div>
                    <div class="playlist-cover">
                        <img src="${song.cover}" alt="${song.title}" onerror="this.style.display='none'">
                    </div>
                    <div class="playlist-title">${song.title}</div>
                    <div class="playlist-album">${song.album}</div>
                    <div class="playlist-duration">${song.duration}</div>
                    <div class="playlist-actions">
                        <div class="playlist-play-btn" data-id="${song.id}">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                `;
                
                playlistContainer.appendChild(playlistItem);
            });
        }

        // Populate concerts section
        function populateConcerts() {
            const concertsContainer = document.querySelector('.concerts-list');
            
            websiteData.concerts.forEach(concert => {
                const concertCard = document.createElement('div');
                concertCard.className = 'concert-card';
                concertCard.innerHTML = `
                    <div class="concert-img">
                        <img src="${concert.image}" alt="${concert.title}" onerror="this.style.display='none'; this.parentElement.innerHTML='[${concert.title} Image]'">
                    </div>
                    <div class="concert-content">
                        <h3 class="concert-title">${concert.title}</h3>
                        <div class="concert-details">${concert.venue} • ${concert.date}</div>
                        <div class="concert-note">${concert.note}</div>
                    </div>
                `;
                
                concertsContainer.appendChild(concertCard);
            });
        }

        // Cart functionality
        function initCart() {
            const cartIcon = document.querySelector('.cart-icon');
            const cartDrawer = document.getElementById('cart-drawer');
            const closeCart = document.getElementById('close-cart');
            const cartItems = document.getElementById('cart-items');
            const cartCount = document.querySelector('.cart-count');
            const cartSubtotal = document.getElementById('cart-subtotal-price');
            const checkoutBtn = document.getElementById('checkout-btn');
            
            // Open cart drawer
            cartIcon.addEventListener('click', function() {
                cartDrawer.classList.add('active');
                updateCartDisplay();
            });
            
            // Close cart drawer
            closeCart.addEventListener('click', function() {
                cartDrawer.classList.remove('active');
            });
            
            // Checkout button
            checkoutBtn.addEventListener('click', function() {
                if (cart.length === 0) {
                    alert('Your cart is empty!');
                    return;
                }
                
                // REVISI 4: Check if user is logged in
                if (!currentUser) {
                    // Show login required message instead of alert
                    document.getElementById('login-required-message').classList.add('active');
                    cartDrawer.classList.remove('active');
                    return;
                }
                
                // Open checkout modal
                document.getElementById('checkout-modal').classList.add('active');
                cartDrawer.classList.remove('active');
                updateCheckoutDisplay();
            });
            
            // Add to cart functionality
            document.addEventListener('click', function(e) {
                if (e.target.closest('.quick-add')) {
                    const itemId = e.target.closest('.quick-add').getAttribute('data-id');
                    const item = websiteData.merch.find(merch => merch.id == itemId);
                    
                    // Check if item is already in cart
                    const existingItem = cart.find(cartItem => cartItem.id == itemId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: item.id,
                            name: item.name,
                            price: item.price,
                            quantity: 1
                        });
                    }
                    
                    updateCartCount();
                    updateCartDisplay();
                    
                    // Show notification
                    showNotification(`${item.name} added to cart`);
                }
            });
            
            // Update cart count
            function updateCartCount() {
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCount.textContent = totalItems;
            }
            
            // Update cart display
            function updateCartDisplay() {
                cartItems.innerHTML = '';
                let subtotal = 0;
                
                cart.forEach(item => {
                    // Extract numeric value from price string for calculation
                    const priceValue = parseInt(item.price.replace(/[^\d]/g, ''));
                    subtotal += priceValue * item.quantity;
                    
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-img">
                            <img src="${websiteData.merch.find(m => m.id == item.id).image}" alt="${item.name}" onerror="this.innerHTML='[Product Image]'">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price">${item.price}</div>
                            <div class="cart-item-actions">
                                <div class="quantity-control">
                                    <button class="quantity-btn minus" data-id="${item.id}">-</button>
                                    <span class="quantity">${item.quantity}</span>
                                    <button class="quantity-btn plus" data-id="${item.id}">+</button>
                                </div>
                                <button class="cart-item-remove" data-id="${item.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    
                    cartItems.appendChild(cartItem);
                });
                
                // Format subtotal as Rupiah
                cartSubtotal.textContent = `Rp ${subtotal.toLocaleString('id-ID')}`;
                
                // Add event listeners to quantity buttons
                document.querySelectorAll('.quantity-btn.minus').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        const item = cart.find(item => item.id == id);
                        
                        if (item.quantity > 1) {
                            item.quantity -= 1;
                        } else {
                            cart = cart.filter(item => item.id != id);
                        }
                        
                        updateCartCount();
                        updateCartDisplay();
                    });
                });
                
                document.querySelectorAll('.quantity-btn.plus').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        const item = cart.find(item => item.id == id);
                        item.quantity += 1;
                        
                        updateCartCount();
                        updateCartDisplay();
                    });
                });
                
                document.querySelectorAll('.cart-item-remove').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = this.getAttribute('data-id');
                        cart = cart.filter(item => item.id != id);
                        
                        updateCartCount();
                        updateCartDisplay();
                    });
                });
            }
        }

        // Initialize checkout functionality
        function initCheckout() {
            const checkoutModal = document.getElementById('checkout-modal');
            const closeCheckout = document.getElementById('close-checkout');
            const checkoutForm = document.getElementById('checkout-form');
            
            // Close checkout modal
            closeCheckout.addEventListener('click', function() {
                checkoutModal.classList.remove('active');
            });
            
            // Submit checkout form
            checkoutForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const fullName = document.getElementById('full-name').value;
                const phone = document.getElementById('phone').value;
                const streetAddress = document.getElementById('street-address').value;
                const notes = document.getElementById('notes').value;
                
                // REVISI 1: Get location data from input fields
                const province = document.getElementById('province').value;
                const city = document.getElementById('city').value;
                const district = document.getElementById('district').value;
                const village = document.getElementById('village').value;
                const postalCode = document.getElementById('postal-code').value;
                
                // Validate form
                if (!fullName || !phone || !streetAddress || !province || !city || !district || !village) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                // Create order object
                currentOrder = {
                    id: 'NKI-' + Date.now(),
                    date: new Date().toLocaleDateString('id-ID'),
                    customer: {
                        name: fullName,
                        phone: phone,
                        address: {
                            street: streetAddress,
                            village: village,
                            district: district,
                            city: city,
                            province: province,
                            postalCode: postalCode
                        }
                    },
                    notes: notes,
                    items: [...cart],
                    total: calculateCartTotal()
                };
                
                // Close checkout modal and open payment modal
                checkoutModal.classList.remove('active');
                document.getElementById('payment-modal').classList.add('active');
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === checkoutModal) {
                    checkoutModal.classList.remove('active');
                }
            });
        }
        
        // Update checkout display
        function updateCheckoutDisplay() {
            const checkoutItems = document.getElementById('checkout-items');
            const checkoutTotal = document.getElementById('checkout-total-price');
            
            checkoutItems.innerHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                // Extract numeric value from price string for calculation
                const priceValue = parseInt(item.price.replace(/[^\d]/g, ''));
                total += priceValue * item.quantity;
                
                const checkoutItem = document.createElement('div');
                checkoutItem.className = 'checkout-item';
                checkoutItem.innerHTML = `
                    <div>${item.name} x${item.quantity}</div>
                    <div>${item.price}</div>
                `;
                
                checkoutItems.appendChild(checkoutItem);
            });
            
            // Format total as Rupiah
            checkoutTotal.textContent = `Rp ${total.toLocaleString('id-ID')}`;
        }
        
        // Calculate cart total
        function calculateCartTotal() {
            let total = 0;
            cart.forEach(item => {
                const priceValue = parseInt(item.price.replace(/[^\d]/g, ''));
                total += priceValue * item.quantity;
            });
            return total;
        }
        
        // Initialize payment functionality
        function initPayment() {
            const paymentModal = document.getElementById('payment-modal');
            const closePayment = document.getElementById('close-payment');
            
            // Close payment modal
            closePayment.addEventListener('click', function() {
                paymentModal.classList.remove('active');
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === paymentModal) {
                    paymentModal.classList.remove('active');
                }
            });
        }
        
        // Initialize upload form
        function initUploadForm() {
            const uploadForm = document.getElementById('upload-form');
            const fileInput = document.getElementById('transfer-proof');
            const filePreview = document.getElementById('file-preview');
            
            // Preview file upload
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                filePreview.innerHTML = '';
                
                if (file) {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            filePreview.appendChild(img);
                        };
                        reader.readAsDataURL(file);
                    } else if (file.type === 'application/pdf') {
                        const p = document.createElement('p');
                        p.textContent = `PDF: ${file.name}`;
                        filePreview.appendChild(p);
                    }
                }
            });
            
            // Submit upload form
            uploadForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const fileInput = document.getElementById('transfer-proof');
                const file = fileInput.files[0];
                
                if (file) {
                    // Validasi tipe file dan ukuran
                    const validTypes = ['image/png', 'image/jpeg', 'application/pdf'];
                    if (!validTypes.includes(file.type)) {
                        alert('Only PNG, JPG, or PDF files are accepted.');
                        return;
                    }
                    if (file.size > 5 * 1024 * 1024) {
                        alert('File too large. Max 5MB.');
                        return;
                    }
                    
                    // Simpan file (dalam localStorage untuk simulasi)
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const fileData = e.target.result;
                        localStorage.setItem('transferProof', fileData);
                        
                        // Tampilkan modal sukses
                        document.getElementById('payment-modal').classList.remove('active');
                        document.getElementById('upload-success-modal').classList.add('active');
                        
                        // Set timeout untuk redirect ke struk
                        setTimeout(() => {
                            document.getElementById('upload-success-modal').classList.remove('active');
                            showReceipt();
                        }, 3000);
                    };
                    reader.readAsDataURL(file);
                }
            });
        }
        
        // Save order to transaction history
        function saveOrderToHistory() {
            if (!currentUser || !currentOrder) return;
            
            // Get user's transaction history
            const transactionHistory = JSON.parse(localStorage.getItem('transactionHistory') || '{}');
            
            // Initialize user's history if it doesn't exist
            if (!transactionHistory[currentUser.id]) {
                transactionHistory[currentUser.id] = [];
            }
            
            // Add current order to history
            transactionHistory[currentUser.id].push({
                ...currentOrder,
                status: 'completed'
            });
            
            // Save back to localStorage
            localStorage.setItem('transactionHistory', JSON.stringify(transactionHistory));
        }
        
        // Initialize account functionality
        function initAccount() {
            const accountModal = document.getElementById('account-modal');
            const closeAccount = document.getElementById('close-account');
            const accountTabs = document.querySelectorAll('.account-tab');
            const profileForm = document.getElementById('profile-form');
            const passwordForm = document.getElementById('password-form');
            const downloadReceipt = document.getElementById('download-receipt-pdf');
            const closeReceipt = document.getElementById('close-receipt');
            
            // Close account modal
            closeAccount.addEventListener('click', function() {
                accountModal.classList.remove('active');
            });
            
            // Switch between account tabs
            accountTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // Update active tab
                    accountTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update active content
                    document.querySelectorAll('.account-tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabName}-tab`).classList.add('active');
                    
                    // Load data for specific tabs
                    if (tabName === 'profile') {
                        loadProfileData();
                    } else if (tabName === 'transactions') {
                        loadTransactionHistory();
                    } else if (tabName === 'membership') {
                        loadCurrentMembership();
                    }
                });
            });
            
            // Update profile
            profileForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('profile-name').value;
                
                if (!name) {
                    alert('Please enter your name');
                    return;
                }
                
                // Update user data
                currentUser.name = name;
                
                // Update in localStorage
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('users', JSON.stringify(users));
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
                
                // Update UI
                updateUserDisplay();
                
                alert('Profile updated successfully!');
            });
            
            // Change password
            passwordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const currentPassword = document.getElementById('current-password').value;
                const newPassword = document.getElementById('new-password').value;
                const confirmPassword = document.getElementById('confirm-password').value;
                
                // Validate
                if (currentPassword !== currentUser.password) {
                    alert('Current password is incorrect');
                    return;
                }
                
                if (newPassword.length < 6) {
                    alert('New password must be at least 6 characters');
                    return;
                }
                
                if (newPassword !== confirmPassword) {
                    alert('New passwords do not match');
                    return;
                }
                
                // Update password
                currentUser.password = newPassword;
                
                // Update in localStorage
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('users', JSON.stringify(users));
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                }
                
                // Clear form
                passwordForm.reset();
                
                alert('Password changed successfully!');
            });
            
            // Download receipt
            downloadReceipt.addEventListener('click', function() {
                generateReceiptPDF();
            });
            
            // Close receipt modal
            closeReceipt.addEventListener('click', function() {
                document.getElementById('receipt-modal').classList.remove('active');
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === accountModal) {
                    accountModal.classList.remove('active');
                }
                if (e.target === document.getElementById('receipt-modal')) {
                    document.getElementById('receipt-modal').classList.remove('active');
                }
            });
        }
        
        // Load profile data
        function loadProfileData() {
            if (!currentUser) return;
            
            document.getElementById('profile-name').value = currentUser.name;
            document.getElementById('profile-email').value = currentUser.email;
        }
        
        // Load transaction history
        function loadTransactionHistory() {
            if (!currentUser) return;
            
            const transactionHistoryBody = document.getElementById('transaction-history-body');
            transactionHistoryBody.innerHTML = '';
            
            // Get user's transaction history
            const transactionHistory = JSON.parse(localStorage.getItem('transactionHistory') || '{}');
            const userTransactions = transactionHistory[currentUser.id] || [];
            
            if (userTransactions.length === 0) {
                transactionHistoryBody.innerHTML = `
                    <tr>
                        <td colspan="4" style="text-align: center;">No transactions found</td>
                    </tr>
                `;
                return;
            }
            
            // Display transactions
            userTransactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${transaction.id}</td>
                    <td>${transaction.date}</td>
                    <td>Rp ${transaction.total.toLocaleString('id-ID')}</td>
                    <td><span class="transaction-status status-completed">Completed</span></td>
                `;
                transactionHistoryBody.appendChild(row);
            });
        }
        
        // Fungsi untuk menampilkan struk
        function showReceipt() {
            // Isi data struk
            document.getElementById('receipt-customer-name').textContent = currentOrder.customer.name;
            document.getElementById('receipt-order-id').textContent = currentOrder.id;
            document.getElementById('receipt-date').textContent = currentOrder.date;
            document.getElementById('receipt-amount').textContent = `Rp ${currentOrder.total.toLocaleString('id-ID')}`;
            
            // Tampilkan bukti transfer
            const proofImage = document.getElementById('receipt-proof-image');
            proofImage.src = localStorage.getItem('transferProof');
            
            // Simpan transaksi ke riwayat transaksi
            saveOrderToHistory();
            
            // Tampilkan modal struk
            document.getElementById('receipt-modal').classList.add('active');
            
            // Clear cart
            cart = [];
            updateCartCount();
            updateCartDisplay();
        }
        
        // REVISI 1: Generate receipt PDF (thermal/strip style)
        function generateReceiptPDF() {
            if (!currentOrder) return;
            
            // Create receipt HTML for PDF
            const receiptHTML = `
                <div id="receipt-pdf" style="width: 80mm; padding: 10px; font-family: Arial, sans-serif; font-size: 12px; line-height: 1.2;">
                    <!-- Header -->
                    <div style="text-align: center; margin-bottom: 10px;">
                        <h2 style="font-size: 16px; font-weight: bold; margin: 0;">NIKI OFFICIAL STORE</h2>
                        <p style="margin: 2px 0; font-size: 10px;">Official Merchandise & Music</p>
                        <div style="border-bottom: 1px dashed #000; margin: 5px 0;"></div>
                    </div>
                    
                    <!-- Order Info -->
                    <div style="margin-bottom: 10px;">
                        <p style="margin: 2px 0;"><strong>Order ID:</strong> ${currentOrder.id}</p>
                        <p style="margin: 2px 0;"><strong>Date:</strong> ${currentOrder.date}</p>
                        <p style="margin: 2px 0;"><strong>Customer:</strong> ${currentOrder.customer.name}</p>
                    </div>
                    
                    <div style="border-bottom: 1px dashed #000; margin: 5px 0;"></div>
                    
                    <!-- Items -->
                    <div style="margin-bottom: 10px;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr>
                                    <th style="text-align: left; padding: 2px 0; border-bottom: 1px dotted #ccc;">Item</th>
                                    <th style="text-align: center; padding: 2px 0; border-bottom: 1px dotted #ccc;">Qty</th>
                                    <th style="text-align: right; padding: 2px 0; border-bottom: 1px dotted #ccc;">Price</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${currentOrder.items.map(item => `
                                    <tr>
                                        <td style="padding: 3px 0; border-bottom: 1px dotted #eee;">${item.name}</td>
                                        <td style="text-align: center; padding: 3px 0; border-bottom: 1px dotted #eee;">${item.quantity}</td>
                                        <td style="text-align: right; padding: 3px 0; border-bottom: 1px dotted #eee;">${item.price}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="border-bottom: 1px dashed #000; margin: 5px 0;"></div>
                    
                    <!-- Total -->
                    <div style="text-align: right; margin-bottom: 10px;">
                        <p style="margin: 5px 0; font-size: 14px; font-weight: bold;">
                            TOTAL: Rp ${currentOrder.total.toLocaleString('id-ID')}
                        </p>
                    </div>
                    
                    <!-- Payment Details -->
                    <div style="margin-bottom: 10px;">
                        <p style="margin: 2px 0;"><strong>Payment Method:</strong> BCA Transfer</p>
                        <p style="margin: 2px 0;"><strong>Account:</strong> NIKI OFFICIAL</p>
                        <p style="margin: 2px 0;"><strong>Account No:</strong> 1234567890</p>
                    </div>
                    
                    <div style="border-bottom: 1px dashed #000; margin: 5px 0;"></div>
                    
                    <!-- Thank You Message -->
                    <div style="text-align: center; margin: 10px 0;">
                        <p style="margin: 2px 0; font-size: 10px;">Thank you for your purchase!</p>
                        <p style="margin: 2px 0; font-size: 10px;">We appreciate your support.</p>
                        <p style="margin: 2px 0; font-size: 10px;">Visit us again at niki-official.com</p>
                    </div>
                </div>
            `;
            
            // Create temporary element for receipt
            const tempElement = document.createElement('div');
            tempElement.innerHTML = receiptHTML;
            document.body.appendChild(tempElement);
            
            // Use html2canvas to convert receipt to image
            html2canvas(tempElement.querySelector('#receipt-pdf'), {
                scale: 3, // Higher scale for better quality
                useCORS: true,
                logging: false
            }).then(canvas => {
                // Convert canvas to image data URL
                const imageData = canvas.toDataURL('image/png');
                
                // Create download link
                const link = document.createElement('a');
                link.href = imageData;
                link.download = `receipt-${currentOrder.id}.png`;
                link.click();
                
                // Clean up
                document.body.removeChild(tempElement);
            });
        }

        // Audio Player functionality
        function initAudioPlayer() {
            const audioPlayer = document.getElementById('audio-player');
            const audio = document.getElementById('audio-element');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.getElementById('progress-bar');
            const progress = document.getElementById('progress');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const queueBtn = document.getElementById('queue-btn');
            const volumeBtn = document.getElementById('volume-btn');
            
            let volume = 1;
            
            // Show audio player when a song is played
            function showPlayer() {
                audioPlayer.classList.add('active');
            }
            
            // Load song function
            function loadSong(index) {
                if (index < 0 || index >= websiteData.songs.length) return;
                
                const song = websiteData.songs[index];
                
                // Stop current audio
                audio.pause();
                audio.currentTime = 0;
                
                // Set new source
                audio.src = song.file;
                
                // Update player info
                document.querySelector('.player-song-title').textContent = song.title;
                document.querySelector('.player-song-artist').textContent = 'NIKI';
                
                // Update thumbnail
                const thumbnail = document.querySelector('.player-thumbnail');
                thumbnail.innerHTML = `<img src="${song.cover}" alt="${song.title}" onerror="this.innerHTML='<i class=\\'fas fa-music\\'></i>'">`;
                
                // Reset progress
                progress.style.width = '0%';
                currentTimeEl.textContent = '0:00';
                durationEl.textContent = song.duration;
                
                currentSongIndex = index;
                
                // Show player
                showPlayer();
                
                // Update active state in playlist
                document.querySelectorAll('.playlist-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`.playlist-item[data-id="${song.id}"]`).classList.add('active');
                
                // Try to play the audio
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        isPlaying = true;
                    }).catch(error => {
                        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                        isPlaying = false;
                    });
                }
            }
            
            // Format time function
            function formatTime(seconds) {
                if (isNaN(seconds)) return "0:00";
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }
            
            // Play/pause functionality
            playPauseBtn.addEventListener('click', function() {
                if (isPlaying) {
                    audio.pause();
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                    isPlaying = false;
                } else {
                    // If no song is loaded, load the first one
                    if (!audio.src || audio.src === '') {
                        loadSong(0);
                        return;
                    }
                    
                    const playPromise = audio.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                            isPlaying = true;
                        }).catch(error => {
                            console.log("Play failed:", error);
                        });
                    }
                }
            });
            
            // Next song functionality
            nextBtn.addEventListener('click', function() {
                currentSongIndex = (currentSongIndex + 1) % websiteData.songs.length;
                loadSong(currentSongIndex);
            });
            
            // Previous song functionality
            prevBtn.addEventListener('click', function() {
                currentSongIndex = (currentSongIndex - 1 + websiteData.songs.length) % websiteData.songs.length;
                loadSong(currentSongIndex);
            });
            
            // Progress bar functionality
            progressBar.addEventListener('click', function(e) {
                const rect = progressBar.getBoundingClientRect();
                const percent = (e.clientX - rect.left) / rect.width;
                audio.currentTime = percent * audio.duration;
                progress.style.width = `${percent * 100}%`;
            });
            
            // Update progress as audio plays
            audio.addEventListener('timeupdate', function() {
                if (audio.duration) {
                    const percent = (audio.currentTime / audio.duration) * 100;
                    progress.style.width = `${percent}%`;
                    currentTimeEl.textContent = formatTime(audio.currentTime);
                }
            });
            
            // When song ends, play next one
            audio.addEventListener('ended', function() {
                nextBtn.click();
            });
            
            // Volume control
            volumeBtn.addEventListener('click', function() {
                if (volume > 0) {
                    volume = 0;
                    volumeBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                } else {
                    volume = 1;
                    volumeBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                }
                audio.volume = volume;
            });
            
            // Click on playlist items to play song
            document.addEventListener('click', function(e) {
                if (e.target.closest('.playlist-play-btn') || e.target.closest('.song-play')) {
                    const songId = e.target.closest('.playlist-play-btn, .song-play').getAttribute('data-id');
                    const songIndex = websiteData.songs.findIndex(song => song.id == songId);
                    loadSong(songIndex);
                }
            });
            
            // Initialize with first song loaded but not playing
            loadSong(0);
        }
        
        // Queue Modal functionality
        function initQueueModal() {
            const queueBtn = document.getElementById('queue-btn');
            const queueModal = document.getElementById('queue-modal');
            const closeQueue = document.getElementById('close-queue');
            const queueList = document.getElementById('queue-list');
            
            // Open queue modal
            queueBtn.addEventListener('click', function() {
                updateQueueDisplay();
                queueModal.classList.add('active');
            });
            
            // Close queue modal
            closeQueue.addEventListener('click', function() {
                queueModal.classList.remove('active');
            });
            
            // Update queue display
            function updateQueueDisplay() {
                queueList.innerHTML = '';
                
                websiteData.songs.forEach((song, index) => {
                    const queueItem = document.createElement('div');
                    queueItem.className = 'queue-item';
                    if (index === currentSongIndex) {
                        queueItem.classList.add('active');
                    }
                    
                    queueItem.innerHTML = `
                        <div class="queue-item-img">
                            <img src="${song.cover}" alt="${song.title}" onerror="this.style.display='none'">
                        </div>
                        <div class="queue-item-info">
                            <div class="queue-item-title">${song.title}</div>
                            <div class="queue-item-artist">NIKI</div>
                        </div>
                        <div class="queue-item-duration">${song.duration}</div>
                    `;
                    
                    queueItem.addEventListener('click', function() {
                        loadSong(index);
                        updateQueueDisplay();
                    });
                    
                    queueList.appendChild(queueItem);
                });
            }
        }

        // Notification function
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background-color: var(--maroon);
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 10000;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                transition: transform 0.3s, opacity 0.3s;
                transform: translateX(100%);
                opacity: 0;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
                notification.style.opacity = '1';
            }, 10);
            
            // Animate out after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                notification.style.opacity = '0';
                
                // Remove from DOM after animation
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        function initModals() {
            const loginModal = document.getElementById('login-modal');
            const registerModal = document.getElementById('register-modal');
            const forgotPasswordModal = document.getElementById('forgot-password-modal');
            const closeLogin = document.getElementById('close-login');
            const closeRegister = document.getElementById('close-register');
            const closeForgotPassword = document.getElementById('close-forgot-password');
            const showRegister = document.getElementById('show-register');
            const showLogin = document.getElementById('show-login');
            const showForgotPassword = document.getElementById('show-forgot-password');
            const showLoginFromForgot = document.getElementById('show-login-from-forgot');
            
            // Close login modal
            closeLogin.addEventListener('click', function() {
                loginModal.classList.remove('active');
                resetErrorMessages('login');
            });
            
            // Close register modal
            closeRegister.addEventListener('click', function() {
                registerModal.classList.remove('active');
                resetErrorMessages('register');
            });
            
            // Close forgot password modal
            closeForgotPassword.addEventListener('click', function() {
                forgotPasswordModal.classList.remove('active');
                resetErrorMessages('forgot-password');
            });
            
            // Show register modal
            showRegister.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.classList.remove('active');
                registerModal.classList.add('active');
                resetErrorMessages('login');
            });
            
            // Show login modal
            showLogin.addEventListener('click', function(e) {
                e.preventDefault();
                registerModal.classList.remove('active');
                loginModal.classList.add('active');
                resetErrorMessages('register');
            });
            
            // Show forgot password modal
            showForgotPassword.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.classList.remove('active');
                forgotPasswordModal.classList.add('active');
                resetErrorMessages('login');
            });
            
            // Show login from forgot password
            showLoginFromForgot.addEventListener('click', function(e) {
                e.preventDefault();
                forgotPasswordModal.classList.remove('active');
                loginModal.classList.add('active');
                resetErrorMessages('forgot-password');
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === loginModal) {
                    loginModal.classList.remove('active');
                    resetErrorMessages('login');
                }
                if (e.target === registerModal) {
                    registerModal.classList.remove('active');
                    resetErrorMessages('register');
                }
                if (e.target === forgotPasswordModal) {
                    forgotPasswordModal.classList.remove('active');
                    resetErrorMessages('forgot-password');
                }
                
                // Close user dropdown when clicking outside
                if (!e.target.closest('#user-icon-container') && !e.target.closest('#user-dropdown')) {
                    document.getElementById('user-dropdown').classList.remove('active');
                }
            });
        }

        // Initialize mobile menu
        function initMobileMenu() {
            const mobileMenu = document.querySelector('.mobile-menu');
            const nav = document.querySelector('nav');
            
            mobileMenu.addEventListener('click', function() {
                if (nav.style.display === 'block') {
                    nav.style.display = 'none';
                } else {
                    nav.style.display = 'block';
                }
            });
        }

        // Helper function to reset error messages
        function resetErrorMessages(formType) {
            const errorMessages = document.querySelectorAll(`#${formType}-form .error-message`);
            errorMessages.forEach(msg => {
                msg.style.display = 'none';
            });
        }
        
        // Initialize membership functionality
        function initMembership() {
            // Load user's current membership
            loadCurrentMembership();
            
            // Event listeners for subscription buttons
            document.querySelectorAll('.subscribe-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const planId = this.getAttribute('data-plan');
                    openSubscriptionModal(planId);
                });
            });
            
            // Event listener for subscription modal close
            document.getElementById('close-subscription').addEventListener('click', function() {
                document.getElementById('subscription-modal').classList.remove('active');
            });
            
            // Event listener for confirm subscription
            document.getElementById('subscription-form').addEventListener('submit', function(e) {
                e.preventDefault();
                confirmSubscription();
            });
            
            // Event listener for manage subscription
            document.getElementById('manage-subscription').addEventListener('click', function() {
                openSubscriptionModal(currentUser.membership.plan);
            });
            
            // Event listener for cancel membership
            document.getElementById('cancel-membership').addEventListener('click', function() {
                cancelMembership();
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === document.getElementById('subscription-modal')) {
                    document.getElementById('subscription-modal').classList.remove('active');
                }
            });
        }
        
        // Load current membership
        function loadCurrentMembership() {
            if (!currentUser) return;
            
            // Check if user has membership data
            if (currentUser.membership && currentUser.membership.plan !== 'free') {
                // User has a paid membership
                const plan = membershipPlans[currentUser.membership.plan];
                document.getElementById('current-membership').style.display = 'block';
                document.getElementById('membership-plans').style.display = 'none';
                document.getElementById('membership-history').style.display = 'block';
                
                // Update current membership details
                document.getElementById('current-plan-name').textContent = plan.name + ' - ' + 
                    (currentUser.membership.plan.includes('monthly') ? 'Monthly' : 'Yearly');
                document.getElementById('next-billing-date').textContent = formatDate(currentUser.membership.nextBillingDate);
                document.getElementById('payment-method').textContent = currentUser.membership.paymentMethod || 'Credit Card';
                document.getElementById('auto-renewal-status').textContent = currentUser.membership.autoRenew ? 'ON' : 'OFF';
                
                // Load membership history
                loadMembershipHistory();
            } else {
                // User has free membership
                document.getElementById('current-membership').style.display = 'none';
                document.getElementById('membership-plans').style.display = 'grid';
                document.getElementById('membership-history').style.display = 'none';
            }
        }
        
        // Open subscription modal
        function openSubscriptionModal(planId) {
            const plan = membershipPlans[planId];
            if (!plan) return;
            
            // Update modal title
            document.getElementById('subscription-modal-title').textContent = 
                `Subscribe to ${plan.name} - ${plan.period === 'month' ? 'Monthly' : 'Yearly'}`;
            
            // Update summary
            document.getElementById('summary-plan-name').textContent = 
                `${plan.name} - ${plan.period === 'month' ? 'Monthly' : 'Yearly'}`;
            document.getElementById('summary-plan-price').textContent = 
                `Rp ${plan.price.toLocaleString('id-ID')}`;
            document.getElementById('summary-total-price').textContent = 
                `Rp ${plan.price.toLocaleString('id-ID')}`;
            
            // Store current plan in modal
            document.getElementById('subscription-modal').setAttribute('data-current-plan', planId);
            
            // Show modal
            document.getElementById('subscription-modal').classList.add('active');
        }
        
        // Confirm subscription
        function confirmSubscription() {
            const planId = document.getElementById('subscription-modal').getAttribute('data-current-plan');
            const plan = membershipPlans[planId];
            
            // Validate form
            const cardNumber = document.getElementById('card-number').value;
            const expiryDate = document.getElementById('expiry-date').value;
            const cvv = document.getElementById('cvv').value;
            const cardName = document.getElementById('card-name').value;
            const autoRenew = document.getElementById('auto-renew').checked;
            
            if (!cardNumber || !expiryDate || !cvv || !cardName) {
                alert('Please fill in all payment details');
                return;
            }
            
            // Calculate next billing date
            const nextBillingDate = new Date();
            if (plan.period === 'month') {
                nextBillingDate.setMonth(nextBillingDate.getMonth() + 1);
            } else {
                nextBillingDate.setFullYear(nextBillingDate.getFullYear() + 1);
            }
            
            // Update user membership
            if (!currentUser.membership) {
                currentUser.membership = {};
            }
            
            currentUser.membership.plan = planId;
            currentUser.membership.subscribedDate = new Date().toISOString();
            currentUser.membership.nextBillingDate = nextBillingDate.toISOString();
            currentUser.membership.paymentMethod = `Credit Card (****${cardNumber.slice(-4)})`;
            currentUser.membership.autoRenew = autoRenew;
            currentUser.membership.status = 'active';
            
            // Add to membership history
            if (!currentUser.membershipHistory) {
                currentUser.membershipHistory = [];
            }
            
            currentUser.membershipHistory.push({
                date: new Date().toISOString(),
                plan: planId,
                amount: plan.price,
                status: 'active'
            });
            
            // Update user in localStorage
            updateUserInStorage(currentUser);
            
            // Close modal
            document.getElementById('subscription-modal').classList.remove('active');
            
            // Show success message
            showNotification(`Successfully subscribed to ${plan.name}!`);
            
            // Reload membership display
            loadCurrentMembership();
        }
        
        // Cancel membership
        function cancelMembership() {
            if (confirm('Are you sure you want to cancel your membership? You will lose access to premium benefits at the end of your billing period.')) {
                // Update user membership
                currentUser.membership.status = 'cancelled';
                currentUser.membership.cancelledDate = new Date().toISOString();
                
                // Add to membership history
                currentUser.membershipHistory.push({
                    date: new Date().toISOString(),
                    plan: currentUser.membership.plan,
                    amount: 0,
                    status: 'cancelled',
                    note: 'Membership cancelled'
                });
                
                // Update user in localStorage
                updateUserInStorage(currentUser);
                
                // Show confirmation
                showNotification('Your membership has been cancelled. You will retain access until the end of your billing period.');
                
                // Reload membership display
                loadCurrentMembership();
            }
        }
        
        // Load membership history
        function loadMembershipHistory() {
            if (!currentUser || !currentUser.membershipHistory) return;
            
            const historyBody = document.getElementById('membership-history-body');
            historyBody.innerHTML = '';
            
            currentUser.membershipHistory.forEach(entry => {
                const plan = membershipPlans[entry.plan];
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${formatDate(entry.date)}</td>
                    <td>${plan.name} - ${entry.plan.includes('monthly') ? 'Monthly' : 'Yearly'}</td>
                    <td>Rp ${entry.amount.toLocaleString('id-ID')}</td>
                    <td><span class="transaction-status ${entry.status === 'active' ? 'status-completed' : 'status-pending'}">${entry.status}</span></td>
                `;
                
                historyBody.appendChild(row);
            });
        }
        
        // Format date for display
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        // Update user in localStorage
        function updateUserInStorage(user) {
            // Update current user
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            // Update in users array
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex] = user;
                localStorage.setItem('users', JSON.stringify(users));
            }
        }
    